!function(a){function b(b){var e=a(b.currentTarget).val();if(console.log(e),e.length>0){a("#common-packages").hide();var f=_.filter(d,function(a){return new RegExp(e,"i").test(a[0])});e.length<2&&(f=_.slice(f,0,100));var g=f.reduce(function(a,b){return a.push(c.replace(/{{name}}/g,_.escape(b[0])).replace(/{{description}}/g,_.escape(b[1])).replace(/{{stars}}/g,_.escape(b[2]))),a},[]).join("");a("#search-results").html(g).show()}else a("#common-packages").show(),a("#search-results").hide()}var c='<a href="/{{name}}/" class="package list-group-item" target="_blank"  onclick="_hmt.push([\'_trackEvent\', \'packages\', \'click\', \'{{name}}\'])"><div class="row"><div class="col-md-3"><h4 class="package-name">{{name}}</h4></div><div class="col-md-9 hidden-xs"><p class="package-description">{{description}}</p></div><div class="package-extra-info col-md-9 col-md-offset-3 col-xs-12"><span><i class="fa fa-star"></i> {{stars}}</span></div></div></a>',d=[];a.get("https://api.bootcdn.cn/libraries.min.json").done(function(a){d=a}),a(".search").val("").focus(),a(".search").on("keyup",_.throttle(b,60)),a(document).on("input",".clearable",function(){this.value?a(this).next("i").removeClass("fa-search").addClass("fa-close x"):a(this).next("i").removeClass("fa-close").addClass("fa-search")}).on("mousemove",".x",function(b){a(this).addClass("onX")}).on("click",".onX",function(){a(this).removeClass("x onX").prev("input").val("").change(),a(this).removeClass("fa-close").addClass("fa-search"),a("#common-packages").show(),a("#search-results").hide()}),a(window).scroll(function(){a(this).scrollTop()>100?a("#back-to-top").fadeIn():a("#back-to-top").fadeOut()}),a("#back-to-top").on("click",function(b){return b.preventDefault(),a("html, body").animate({scrollTop:0},100),!1});try{if("/"!==window.location.pathname){var e=a(".site-header h1").first().text();a(".site-header").geopattern(e)}}catch(a){console.log(a)}a(".btn-group .btn").click(function(){var b=a("input",this),c=b.attr("id");console.log("Protocal ",c," was selected"),"relative"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text(b.replace(/^https?:/i,"")),a(this).parent().removeClass("js-https")}):"http"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text("http:"+b.replace(/^https?:/i,"")),a(this).parent().removeClass("js-https")}):"https"===c&&a(".library-url").each(function(){var b=a(this).text();a(this).text("https:"+b.replace(/^https?:/i,"")),a(this).parent().addClass("js-https")}),localforage.setItem("protocal",c,function(a,b){if(a)return console.log(a);console.log("saved protocal: ",b)})}),localforage.getItem("protocal",function(b,c){b&&console.log(b),c||(c="https"),c&&(console.log("Get protocal: ",c),a("#"+c).parent().button("toggle"),"relative"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text(b.replace(/^https?:/i,"")),a(this).parent().removeClass("js-https")}):"http"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text("http:"+b.replace(/^https?:/i,"")),a(this).parent().removeClass("js-https")}):"https"===c&&a(".library-url").each(function(){var b=a(this).text();a(this).text("https:"+b.replace(/^https?:/i,"")),a(this).parent().addClass("js-https")}))})}(jQuery),$(function(){$(".library-url").each(function(){var a=$(this).text();/\.css$/.test(a)?$(this).before('<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-code" title="复制到剪贴板"><i class="fa fa-code"></i> 复制 &lt;link&gt; 标签</span><span class="btn-clipboard btn-clipboard-link" title="复制到剪贴板"><i class="fa fa-link"></i> 复制链接</span></div>'):/\.js$/.test(a)?$(this).before('<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-code" title="复制到剪贴板"><i class="fa fa-code"></i> 复制 &lt;script&gt; 标签</span><span class="btn-clipboard btn-clipboard-link" title="复制到剪贴板"><i class="fa fa-link"></i> 复制链接</span></div>'):$(this).before('<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-link" title="复制到剪贴板"><i class="fa fa-link"></i> 复制链接</span></div>')}),$(".btn-clipboard").tooltip({container:"body"});var a=new Clipboard(".btn-clipboard",{text:function(a){var b=$(a),c=$(a.parentNode.nextElementSibling),d=url=c.text();return b.hasClass("btn-clipboard-code")&&(/\.css$/.test(url)?d='<link href="'+url+'" rel="stylesheet">':/\.js$/.test(url)&&(d='<script src="'+url+'"></script>')),d}});a.on("success",function(a){$(a.trigger).attr("title","已复制！").tooltip("fixTitle").tooltip("show").attr("title","复制到剪贴板").tooltip("fixTitle"),a.clearSelection()}),a.on("error",function(a){var b=/Mac/i.test(navigator.userAgent)?"⌘":"Ctrl-",c="Press "+b+"C to copy";$(a.trigger).attr("title",c).tooltip("fixTitle").tooltip("show").attr("title","复制到剪贴板").tooltip("fixTitle")})});